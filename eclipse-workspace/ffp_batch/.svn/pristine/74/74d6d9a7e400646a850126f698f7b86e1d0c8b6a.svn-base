<?xml version="1.0" encoding="UTF-8"?>
<job-config>
	<fixed-settings>
		<job-id>BatchTransactionCheckProcessor</job-id>
		<run-frequency>A</run-frequency>
		<rerun-type>FromBegin</rerun-type>
	</fixed-settings>
	<action-flow>
		<action>
			<action-name>FileMover</action-name>
			<action-type>JavaSysCall</action-type>
			<processor>com.forms.batch.job.unit.transactioncheck.BatchTransactionCheckFileMover</processor>
			<parameters>
				<directory-root>D:/</directory-root>
				<destination>/ICLFPS/IN/</destination>
				<transactionType>F</transactionType>
				<transactionStartTime>000000</transactionStartTime>
				<transactionEndTime>240000</transactionEndTime>
				<record-fileName>FFPTransactionCheckFilePathRecord.txt</record-fileName>
			</parameters>
		</action>

		<action>
			<action-name>isbDownload</action-name>
			<action-type>JavaSysCall</action-type>
			<processor>com.forms.batch.job.commom.FFPDownloadJob</processor>
			<parameters>
				<parameter>
					<name>transfer-name</name>
					<value>isb</value>
				</parameter>
				<file>
					<remote-path>/ICLFPS/IN/</remote-path>
					<local-path>/ICLFPS/IN/</local-path>
					<backup-file-path>/ICLFPS/IN/#{YYYYMMDD}/</backup-file-path>
					<remote-file-name>FFPTXNJNL_\d{8}.txt</remote-file-name>
				</file>
			</parameters>
		</action>

		<action>
			<action-name>FileReader</action-name>
			<action-type>JavaSysCall</action-type>
			<processor>com.forms.batch.job.unit.transactioncheck.BatchTransactionCheckReader</processor>
			<parameters>
				<local-path>/ICLFPS/IN/</local-path>
				<filename-pattern>FFPTXNJNL_#{YYYYMMDD}.txt</filename-pattern>
			</parameters>
		</action>

		<action> 
			<action-name>DataChecker</action-name> 
			<action-type>JavaSysCall</action-type> 
			<processor>com.forms.batch.job.unit.transactioncheck.BatchTransactionCheckProcessor</processor>
			<parameters>
				<local-path>/ICLFPS/IN/</local-path>
				<record-fileName>FFPTransactionCheckFilePathRecord.txt</record-fileName>
			</parameters> 
		</action>

	</action-flow>
</job-config>